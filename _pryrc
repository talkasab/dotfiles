# vim: ft=ruby
begin
  require 'interactive_editor'
rescue LoadError => e
  warn "=> Unable to load interactive_editor"
end

# Setup Rails, if we're there
rails = File.join(Dir.getwd, 'config', 'environment.rb')
if File.exist?(rails) && ENV['SKIP_RAILS'].nil?
  require rails
  if Rails.version[0..0] == '3'
    require 'rails/console/app'
    require 'rails/console/helpers'
    if Rails.version[2..2] == '2'
      extend Rails::ConsoleMethods
    end
  elsif Rails.version[0..0] == '2'
    require 'console_app'
    require 'console_with_helpers'
  else
    warn "[WARN] cannot load Rails console commands (Not on Rails2 or Rails3?)"
  end
end

begin
  require 'awesome_print'
  Pry.config.print = proc {|output, value| Pry::Helpers::BaseHelpers.stagger_output("=> #{value.ai}", output)}
rescue LoadError => err
  warn "=> Unable to load awesome_print"
end

